.TH _bj 1W "2001.2.7" "WIN SYSTEM" "WIN SYSTEM"
.SH NAME
_bj, _bj1, _bj2 ? Data base processing for event recording server
.SH SYSNOPSIS
_bj [
.I conf_file
]
.LP
_bj1 [
.I conf_file
]
.LP
_bj2 [
.I conf_file
]
.SH DESCRIPTION
_bj administers trigger lists generated by pmon(1W), event waveform files generated by events(1W) and inspection information files generated by automatic inspection processing or interactive inspection processing by automan(1W) and autopick(1W), and, based on these, generates hypocenter database or recording and inspection status list (ee(1W) list) in the event recording server. 
_bj is generally initiated from _win(1W) and always executed in the background. What _bj is actually doing is only alternative execution of newym(1W) for monthly updating processing and _update(1W) for other processing. However, only the recording and inspection status list of the present month is separately prepared by _bj1 using  _update1(1W).
.LP
_bj/_bj1 executes win.conf script and performs setting dependent on site, and when 
.I conf_file
is specified, it executes this instead. An example of win.conf is as follows: 
.LP
.nf
#
# win.conf : configuration file for win system
#
PATH=/usr/ucb:/usr/sbin:/usr/bin:/dat/bin/prog:/dat/bin/SOL2:/dat/bin/SPARC
export PATH
#
TD=/tmp             # working directory for small temporary files
SEIS=eri            # system (observatory) name
PUSH="hosta hostb"  # host names to which final data and evtemp are sent
TIMO=180            # timeout period for PUSH (s)
DD=/dat             # directory for win system
export TD SEIS PUSH TIMO DD
#
.fi
.LP
_bj2 is created by adding functions of both _bj and _bj1 and simplifying them, and uses _update2(1W). Refer to _update2(1W) for details of processing. 
.SH OPTIONS
.TP 
None.
.SH SOURCE
.TP
`_bj'
.TP
`_bj1'
.TP
`_bj2'
.SH SEE ALSO
_win(1W), pmon(1W), events(1W), automan(1W), autopick(1W),
newym(1W), _update(1W),_update1(1W), _update2
