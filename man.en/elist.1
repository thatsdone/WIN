.TH elist 1W "2001.2.13" "WIN SYSTEM" "WIN SYSTEM"
.SH NAME
elist - Creates trigger and inspection information database
.SH SYNOPSIS
.TP
elist [\-huns] [\-o \fIoutfile\fR] [\-p \fIppfile\fR]
.I pickdir
.I pmonout
[\fItrgdir\fR [\fIdir1\fR [\fIdir2\fR [\fIdir3\fR]]]]
.LP
.SH DESCRIPTION
elist reads trigger information from trigger list file
.I pmonout
generated by pmon(1W), and writes (1) trigger time, (2) inspection status, (3) rough guide of magnitude, and (4) list of triggered region names in the standard output in order from the new information with one event per line. 
Trigger time (1) is Ågon timeÅh in
.I pmonout,
and this is also event waveform file name generated by events(1W). In inspection status (2), inspection information file belonging to its event waveform file is searched from directory
.I pickdir
of inspection information file, and (A) inspector name, (B) label (memo) and (C) inspection level are written from its content. (A) and (B) are displayed only with the first five letters respectively. (C) is displayed with four letters "PHMM," where (P) means values to be read exist, (H) means hypocenter is determined, (M) means magnitude is determined, and (M) means mechanism is determined. When "." is found instead of those letters, it means corresponding information does not exist or is not determined. When multiple inspection information files belonging to the one event waveform file exist, (2) namely (A) through (C) corresponding to the number of the files are written in order.
Rough guide of magnitude (3) is obtained from trigger duration using empirical formula, and magnitude is represented by the number of stars. List of triggered region names (4) is obtained from on line and off line of
.I pmonout,
and they are written in order of triggered time.
.LP
When
.I trgdir
is specified, if event waveform file corresponding to its trigger does not exist in the directory, "x" is attached to the end of trigger time (= event waveform name) (1). In addition, when the label of (B) of (2) is "NOISE," elist deletes corresponding event waveform file existing in
.I trgdir
as well as channel table file (~.ch) and bit map file (~.sv) belonging to the event waveform file.
Usually /dat/trg is specified as
.I trgdir.
.LP
When directories
.I dir1 ...
are specified, if a file having the same name as that of event waveform file is found in any one of these directories (however, when a directory name is ends with "/," in all directories under that), "&" is attached to the end of trigger time (= event waveform file name) (1).
Usually, /dat/auto, /dat/autos/, /dat/request/, etc. are specified as
.I dir1 ... .
.LP
elist is event recording server and used in _update(1W) etc. 
.LP
When elist is initiated without argument, it displays brief usage. elist creates temporary file for operation in /tmp. Further, when \-n option is not specified, tail command (however, in case of Linux, tac command) is utilized. Therefore tail (or tac) command must be executable (pass is active). 
.LP
An example of elist output is shown below:
.nf
---------------------------------------------------
YYMMDD hhmmss  picker      PHMM 1.....7   region(s)
 date   time                       M      triggered
---------------------------------------------------
010207.100518  auto  M1.9  PHM. ***      C-CHUGO BUNGO-S SHIKOKU
010207.090937  auto  FAIL  P... **       BUNGO-S 
010207.083357  reiko .     PHM. ***      C-CHUGO 
.fi
.SH OPTIONS
.TP
\-u
Displays brief usage. 
.TP
\-h
Events in which all belonging inspection information is labeled with 'NOISE' are added with '#' at the end of output line, and when this option is specified, the lines of such events are removed in advance so as not to be transmitted. 
.TP
\-o
Writes output in
.I outfile
instead of in the standard output. 
.TP 
\-n
Arranges outputs in order from the old one (in order of time) instead of from the new one.
.TP 
\-s
Does not delete corresponding event waveform file as well as channel table file (~.ch) and bit map file (~.sv) belonging to the event waveform file even if
.I trgdir
is specified. 
.TP
\-p
Creates inspection information file (pick file) and corresponding table of event waveform file in
.I ppfile.
This is created as by-product of elist execution. 
As it uses sort command, sort command must be executable (pass is active).
Format is same as pp list (pktemp.XXXX) by Mr. Ide, of which example is shown below:
.IP "" -5
.nf
-----------------------------------------------------------------------------
pickfile          trgfile       picker P   S   M Lat.  Lon.   Dep. M  nearest
-----------------------------------------------------------------------------
010201.000053.916 010201.000100 inou   8   6   8 32.90 132.55  26 M1.6  TKD
010201.010054.014 010201.010101 inou  16  15  16 33.56 133.98  12 M2.0  HJO
010201.012318.000 010201.012338 inou   0   0   0 -     -       -    -    -
.fi
.SH SOURCE
.TP
`elist.c'
.SH SEE ALSO
_update(1W), pmon(1W)
