.TH ls8tel16_raw 1W "2005.6.10" "WIN SYSTEM" "WIN SYSTEM"
.SH 名称
ls8tel16_raw - 白山WIN(LS8TEL16) の通常 win 形式データへのオンライン変換
.SH 形式
ls8tel16_raw [\-\fBD\fR]
.I inkey
.I outkey
.I shmsize
[
.I chfile
[
.I logfile
]]
.LP
ls8tel16_rawd
.I inkey
.I outkey
.I shmsize
[
.I chfile
[
.I logfile
]]
.LP
.SH 解説
ls8tel16_raw は、キー
.I \ inkey
の共有メモリ・セグメントに巡回的に書き込まれている
白山工業社製データロガーLS-8000SH(ファームウェア：LS8TEL16)
から送信される 白山win 形式のデータを読み込み、通常の win 形式に変換し
てキー
.I \ outkey
で与えられる共有メモリ・セグメントに書き出します。
ただしチャネルファイル
.I \ chfile
が与えられた場合は、その中にリストされたチャネルのデータだけが
変換されて書き出され、それ以外のチャネルは無視されます。
またチャネルファイル名の先頭に '\+' を付けたときは、
そのファイルにリストされたチャネルが変換されて書き出され、
それ以外のチャネルはそのまま出力にコピーされます。
さらにチャネルファイル名の先頭に '\-' を付けたときは、
そのファイルにリストされたチャネルはそのまま出力にコピーされ、
それ以外のすべてのチャネルを変換して書き出されます。
キー
.I \ outkey
をもつ共有メモリ・セグメントが存在しない場合は、大きさ
.I \ shmsize
\ (KB) の共有メモリ・セグメントが作られます。すでに存在している場合は、
そのサイズが
.I \ shmsize
\ (KB) よりも小さいとエラーになります。
共有メモリ・キーは32ビットの整数値です。
.LP
ls8tel16_rawd は daemon モードで起動します。
.LP
ログファイル名
.I \ logfile
を指定すると、ここに動作ログがとられ、指定しないとログ情報は標準出力に
送られます(ただし、daemon モードで動いている時は syslogd(8) に送られま
す)。ログファイルは書き込みのたび毎にオープン／クローズされます。
.LP
チャネルファイルは、１行に１つずつ、16進数でチャネル番号を書
き並べたテキストファイルです。各行の先頭の項目だけが読まれ、
空白またはタブで区切られた以降の項目は無視されます。また先頭
が '#' である行も無視されます。
ls8tel16_raw プロセスは
ハングアップシグナルを受け取ると、チャネルファイルを読み直します。
.LP
共有メモリ
.I inkey
上の形式は、時間順整列されたもの(order(1W)参照)でもされていないもの
(recvt(1W)参照)でもかまいません。共有メモリ
.I outkey
の形式は
.I inkey
と同じになります。
.LP
ディスク上の白山win 形式データを変換する時は、ls8tel16_win(1W)が使えます。
.LP
ls8tel16_raw は、引数なしで起動すると簡単な使用法を表示します。
.SH 注意
LS8TEL14、LS8TEL16 で作られたデータ以外に適用すると出力データが壊れま
す。
.SH オプション
.IP \fB\-D 5
daemon mode で起動します。
.SH ソース
.TP
`ls8tel16_raw.c'
.SH 関連事項
ls8tel16_win(1W), winformat(1W), order(1W), recvt(1W)
