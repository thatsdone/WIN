.TH send_raw 1W "2000.12.23" "WIN SYSTEM" "WIN SYSTEM"
.SH 名称
send_raw, send_mon, sendt_raw, sendt_mon - IPによる win 形式データの送信
.SH 形式
.IP
.ti -7
send_raw [
.I \-armt
] [
.I \-h hours
] [
.I \-s sec
]
.I shmkey
.I dest
.I port
[
.I chfile
[
.I logfile
]]
.br
.ti -7
send_mon
[
.I \-armt
] [
.I \-h hours
] [
.I \-s sec
]
.I shmkey
.I dest
.I port
[
.I chfile
[
.I logfile
]]
.br
.ti -7
sendt_raw
[
.I \-armt
] [
.I \-h hours
] [
.I \-s sec
]
.I shmkey
.I dest
.I port
[
.I chfile
[
.I logfile
]]
.ti -7
sendt_mon
[
.I \-armt
] [
.I \-h hours
] [
.I \-s sec
]
.I shmkey
.I dest
.I port
[
.I chfile
[
.I logfile
]]
.br
.SH 解説
send_raw, send_mon, sendt_raw, sendt_monは、キー
.I \ shmkey
で示される共有メモリ・セグメントに（巡回的に）書き込まれて
いる win 形式のデータを、ホスト
.I \ dest
の UDP ポート番号
.I \ port
へ送信します。チャネルファイル
.I \ chfile
が与えられた場合は、その中にリストされたチャネルのデータだけが
送信されます。ただしチャネルファイル名の先頭に '\-' を付けたときは、
そのファイルにリストされた以外の全チャネルのデータが送信されます。
.I chfile
が与えられないか、または '\-' である場合は、全チャネルが送信されます。
.LP
ログファイル名
.I \ logfile
を指定すると、ここに動作ログがとられ、
指定しないとログ情報は標準出力に
送られます。ログファイルは書き込みのたび毎に
オープン／クローズされます。
.LP
send_raw, sendt_raw は RAW 形式のデータを、
send_mon, sendt_mon は MON 形式の
データを扱うプログラムです。RAW 形式については winformat(1W) を、
MON 形式については raw_mon(1W) を参照してください。
.LP
send_raw, send_mon と sendt_raw, sendt_mon では、
共有メモリ上で扱うデータ形式が異なります。
send_raw, send_mon は、
すでに時間順に整列されていて「書き込み時刻」を含まない
形式 ( -> order(1W)) を扱うのに対し、
sendt_raw, sendt_mon は、時間順不同で
「書き込み時刻」を含む形式 ( -> recvt(1W)) を扱います。
.LP
send_raw, send_mon, sendt_raw, sendt_mon は、
引数なしで起動すると簡単な使用法を表示します。
.LP
send_raw, send_mon, sendt_raw, sendt_mon プロセスは
ハングアップシグナルを受け取ると、
チャネルファイルを読み直します。
.SH チャネルファイルの形式
チャネルファイルは、１行に１つずつ、16進数でチャネル番号を
書き並べたテキストファイルです。各行の先頭の項目だけが読まれ、
空白またはタブで区切られた以降の項目は無視されます。また先頭
が '#' である行も無視されます。
.SH ネットワーク上の形式と再送プロトコル
recvt(1W)を参照してください。伝送効率を上げるため、
１パケットのサイズは1472バイト以内（IPパケットサイズで1500バイト
以内）でなるべく大きくなるように生成されます。
.SH オプション
.IP \fB\-a\fP 5
共有メモリ上のデータ形式を，「パケット種別付き」（recvs(1W) 参照）
とみなし，そのままの形式で送信します。この場合，チャネルファイルに
よるチャネルの選択は行われず，共有メモリ上では「書き込み時刻付き」
形式であると仮定されます。他のオプションはすべて無視されます。
.br
なお、現在このモードでは再送処理を行いません。
.IP \fB\-r\fP 5
send_raw または sendt_raw （オプション \fB\-t\fP と共に指定したとき）
の動作をします。
.IP \fB\-m\fP 5
send_mon または sendt_mon （オプション \fB\-t\fP と共に指定したとき）
の動作をします。
.IP \fB\-t\fP 5
オプション \fB\-r\fP または \fB\-m\fP と共に指定すると，
それぞれ sendt_raw または sendt_mon の動作をします。
.IP \fB\-h [hours]\fP 5
送信の際にデータのタイムスタンプを hours 時間だけ進めます。
.IP \fB\-s [sec]\fP 5
送信の際にデータのタイムスタンプを sec 秒だけ進めます。
.SH ソース 
.TP
`send_raw.c'
.SH 関連事項
winformat(1W), recvt(1W), relay(1W), order(1W), raw_raw(1W),
raw_mon(1W), recvs(1W)
